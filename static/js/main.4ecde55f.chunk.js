(this["webpackJsonpapi-call-demo"]=this["webpackJsonpapi-call-demo"]||[]).push([[0],{116:function(e,t,a){},142:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),n=a(23),l=a.n(n),r=(a(116),a(117),a(118),a(13)),i=a(45),o=(a(141),a(142),"ISAUTHENTICATE"),d=function(e){return{type:o,payload:e}},j=a(7),b=a(3),m=a(14),u=a(1),h=function(e){var t=Object.assign({},e),a=Object(r.c)((function(e){return e.isAuthenticate})),c=Object(r.b)(),s=Object(b.g)();return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("header",Object(m.a)(Object(m.a)({},t),{},{children:Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(j.b,{className:"navbar-brand",to:"/",children:"Navbar"}),Object(u.jsx)("button",{className:"navbar-toggler ms-auto",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(u.jsxs)("ul",{className:"navbar-nav ms-auto mb-2 mb-lg-0",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(j.b,{className:"nav-link",to:"/",children:"Home"})}),!0===a?Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(j.b,{className:"nav-link",to:"/users",children:"Users"})}):"",!0!==a?Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(j.b,{className:"nav-link",to:"/login",children:"Login"})}):Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",href:"#!",onClick:function(e){!function(e){e.preventDefault(),c(d(!1)),localStorage.removeItem("access_token"),s.push("/")}(e)},children:"Logout"})})]})})]})})}))})},O=function(){return Object(u.jsx)("div",{children:"Hello Home page"})},p=a(31),x=a.n(p),v=a(60),g=a(5),f=a(19),N=a.n(f),w=a(109),y=a(46),S=y.a().shape({email:y.b().required("Please enter Email").email("Please enter valid Email").max(50,"Maximum length for Email should be 50 characters").matches(/^\S*$/,"Please enter valid Email"),password:y.b().required("Please enter Password").min(6,"Password is too short")}),k=function(){var e=Object(b.g)(),t=Object(r.b)(),a=Object(r.c)((function(e){return e.isAuthenticate})),s=Object(c.useState)(!1),n=Object(g.a)(s,2),l=n[0],o=n[1],j=Object(w.a)({initialValues:{email:"",password:""},validationSchema:S,onSubmit:function(c){return Object(v.a)(x.a.mark((function s(){return x.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:o(!0),N.a.post("https://reqres.in/api/login",{email:c.email,password:c.password}).then(function(){var c=Object(v.a)(x.a.mark((function c(s){return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s.data&&localStorage.setItem("access_token",s.data.token),t(d(!0)),e.push("/users"),o(!1),console.log(a,"isAuthenticate");case 5:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()).catch((function(e){i.b.error("User not found",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})),o(!1);case 3:case"end":return s.stop()}}),s)})))()}}),m=j.handleSubmit,h=j.handleChange,O=j.values,p=j.errors,f=j.touched;return Object(u.jsx)("div",{className:"login-page",children:Object(u.jsx)("div",{className:"h-100 w-100 d-flex align-items-center justify-content-center",children:!0===l?"Submitting":Object(u.jsxs)("form",{className:"text-start",onSubmit:m,children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(u.jsx)("input",{type:"email",name:"email",id:"email",className:(p.email&&f.email?"input-error":null)+" form-control","aria-describedby":"emailHelp",onChange:h,value:O.email}),p.email?Object(u.jsx)("span",{className:"error-text",children:p.email}):null]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(u.jsx)("input",{type:"password",name:"password",className:(p.email&&f.email?"input-error":null)+" form-control",id:"password",onChange:h,value:O.password,autoComplete:"off"}),p.password?Object(u.jsx)("span",{className:"error-text",children:p.password}):null]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"}),Object(u.jsx)("div",{className:"d-block mt-3",children:Object(u.jsxs)("code",{children:[Object(u.jsxs)("span",{className:"text-center",children:['"email": "',Object(u.jsx)("span",{children:"eve.holt@reqres.in"}),'"']}),Object(u.jsxs)("span",{className:"text-center",children:['"password": "',Object(u.jsx)("span",{children:"cityslicka"}),'"']})]})})]})})})},C=function(){return Object(u.jsx)("div",{className:"text-center",children:"404"})},E=function(){var e,t,a,s,n,l,r=Object(c.useState)([]),i=Object(g.a)(r,2),o=i[0],d=i[1],j=Object(c.useState)(!1),m=Object(g.a)(j,2),h=m[0],O=m[1],p=Object(b.h)().id,x=Object(b.g)();return console.log(p),Object(c.useEffect)((function(){O(!0),N()({method:"get",url:"https://jsonplaceholder.typicode.com/users/?id=".concat(p),responseType:"stream"}).then((function(e){d(e.data[0]),console.log(e.data[0]),O(!1)}))}),[]),Object(u.jsx)("div",{className:"container my-5",children:!0===h?Object(u.jsx)("p",{className:"text-center my-5",children:"Loading"}):Object(u.jsxs)("div",{className:"card rounded text-start mb-3",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h5",{children:o.name})}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("span",{className:"font-weight-bold",children:"User Name: "}),Object(u.jsx)("span",{children:o.username})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("span",{className:"font-weight-bold",children:"Name: "}),Object(u.jsx)("span",{children:o.name})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("span",{className:"font-weight-bold",children:"Email: "}),Object(u.jsx)("span",{children:o.email})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("span",{className:"font-weight-bold",children:"Phone: "}),Object(u.jsx)("span",{children:o.phone})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("span",{className:"font-weight-bold",children:"Company: "}),Object(u.jsx)("span",{children:null===o||void 0===o||null===(e=o.company)||void 0===e?void 0:e.name})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("span",{className:"font-weight-bold",children:"Catch Phrase: "}),Object(u.jsx)("span",{children:null===o||void 0===o||null===(t=o.company)||void 0===t?void 0:t.catchPhrase})]}),Object(u.jsxs)("div",{className:"col-md-12",children:[Object(u.jsx)("span",{className:"font-weight-bold",children:"Address: "}),Object(u.jsxs)("span",{children:[null===o||void 0===o||null===(a=o.address)||void 0===a?void 0:a.street,", ",null===o||void 0===o||null===(s=o.address)||void 0===s?void 0:s.suite,","," ",null===o||void 0===o||null===(n=o.address)||void 0===n?void 0:n.city,", ",null===o||void 0===o||null===(l=o.address)||void 0===l?void 0:l.zipcode]})]})]})}),Object(u.jsx)("div",{className:"card-footer text-end",children:Object(u.jsx)("button",{onClick:function(){x.push("/users/".concat(p,"/posts"))},className:"btn btn-success",children:"View Posts"})})]})})},P=a(105),I=a.n(P),H=function(){var e=Object(c.useState)([]),t=Object(g.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),l=Object(g.a)(n,2),r=l[0],i=l[1],o=Object(b.g)();Object(c.useEffect)((function(){i(!0),N()({method:"get",url:"https://jsonplaceholder.typicode.com/users",responseType:"stream"}).then((function(e){s(e.data),console.log(a,"users"),i(!1)}))}),[]);var d=[{name:"Id",selector:function(e){return e.id}},{name:"Name",selector:function(e){return e.name}},{name:"Email",selector:function(e){return e.email}},{name:"Actions",cell:function(e){return Object(u.jsx)("button",{className:"btn",onClick:function(){o.push("/users/".concat(e.id))},children:"view"})}}];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"page-content",children:Object(u.jsxs)("div",{className:"container py-5",children:[Object(u.jsx)("h2",{className:"user-list",children:"Users"}),!0===r?Object(u.jsx)("p",{className:"text-center my-5",children:"Loading"}):Object(u.jsx)(I.a,{columns:d,data:a})]})})})},A=function(){var e=Object(c.useState)([]),t=Object(g.a)(e,2),a=(t[0],t[1]),s=Object(b.h)().id;return Object(c.useEffect)((function(){N()({method:"get",url:"https://jsonplaceholder.typicode.com/posts/?userId=".concat(s),responseType:"stream"}).then((function(e){a(e.data),console.log(e.data)}))}),[]),Object(u.jsx)("div",{className:"container my-5",children:Object(u.jsxs)("div",{className:"card rounded text-start mb-3",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h5",{})}),Object(u.jsx)("div",{className:"card-body"})]})})},F=function(e){var t=e.component,a=e.path,c=e.exact;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(b.b,{path:a,exact:c,render:function(){return null!==localStorage.getItem("access_token")&&void 0!==localStorage.getItem("access_token")&&""!==localStorage.getItem("access_token")?Object(u.jsx)(t,{}):Object(u.jsx)(b.a,{to:"/login"})}})})},L=a(111),T=["component"],_=function(e){var t=e.component,a=Object(L.a)(e,T);return console.log("load public"),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(b.b,Object(m.a)(Object(m.a)({},a),{},{render:function(e){return Object(u.jsx)(t,Object(m.a)({},e))}}))})};function B(){var e=function(){var e=document.getElementById("customHeader");document.getElementById("main").style.minHeight=window.innerHeight-e.offsetHeight+"px"};return window.addEventListener("resize",(function(){e()})),Object(c.useEffect)((function(){e()})),Object(u.jsxs)(j.a,{children:[Object(u.jsx)(h,{id:"customHeader",className:"custom-header"}),Object(u.jsx)("main",{className:"main",id:"main",children:Object(u.jsx)(c.Suspense,{fallback:Object(u.jsx)("div",{children:"Component Loading"}),children:Object(u.jsxs)(b.d,{children:[Object(u.jsx)(_,{path:"/login",component:k,exact:!0}),Object(u.jsx)(F,{path:"/users",component:H,exact:!0}),Object(u.jsx)(F,{path:"/users/:id",component:E,exact:!0}),Object(u.jsx)(F,{path:"/users/:id/posts",component:A,exact:!0}),Object(u.jsx)(_,{path:"/",component:O,exact:!0}),Object(u.jsx)(_,{path:"*",component:C})]})})})]})}var U=function(){var e=Object(r.b)();return"access_token"in localStorage&&e(d(!0)),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(B,{}),Object(u.jsx)(i.a,{})]})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,265)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,l=t.getTTFB;a(e),c(e),s(e),n(e),l(e)}))},z=a(110),D={isAuthenticate:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;return t.type===o?Object(m.a)(Object(m.a)({},e),{},{isAuthenticate:t.payload}):e},M=Object(z.a)(J);l.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(r.a,{store:M,children:Object(u.jsx)(U,{})})}),document.getElementById("root")),q()}},[[263,1,2]]]);
//# sourceMappingURL=main.4ecde55f.chunk.js.map