{"ast":null,"code":"import _slicedToArray from\"/var/project/api-call-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{useHistory}from\"react-router-dom\";import DataTable from\"react-data-table-component\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Users=function Users(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var history=useHistory();useEffect(function(){setIsLoading(true);// GET request for remote image in node.js\naxios({method:\"get\",url:\"https://jsonplaceholder.typicode.com/users\",responseType:\"stream\"}).then(function(response){// console.log(response);\nsetUser(response.data);console.log(user,\"users\");// response.data.pipe(fs.createWriteStream(\"ada_lovelace.jpg\"));\nsetIsLoading(false);});},[]);var columns=[{name:\"Id\",selector:function selector(row){return row.id;}},{name:\"Name\",selector:function selector(row){return row.name;}},{name:\"Email\",selector:function selector(row){return row.email;}},{name:\"Actions\",cell:function cell(row){return/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(){history.push(\"/users/\".concat(row.id));},children:\"view\"});}}];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container py-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"user-list\",children:\"Users\"}),isLoading===true?/*#__PURE__*/_jsx(\"p\",{className:\"text-center my-5\",children:\"Loading\"}):/*#__PURE__*/_jsx(DataTable,{columns:columns,data:user})]})})});};","map":{"version":3,"sources":["/var/project/api-call-demo/src/pages/Users.jsx"],"names":["React","useEffect","useState","axios","useHistory","DataTable","Users","user","setUser","isLoading","setIsLoading","history","method","url","responseType","then","response","data","console","log","columns","name","selector","row","id","email","cell","push"],"mappings":"iJAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,C,6IAEA,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CACzB,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA,eAAkCN,QAAQ,CAAC,KAAD,CAA1C,yCAAOO,SAAP,eAAkBC,YAAlB,eACA,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CACAH,SAAS,CAAC,UAAM,CACdS,YAAY,CAAC,IAAD,CAAZ,CACA;AACAP,KAAK,CAAC,CACJS,MAAM,CAAE,KADJ,CAEJC,GAAG,CAAE,4CAFD,CAGJC,YAAY,CAAE,QAHV,CAAD,CAAL,CAIGC,IAJH,CAIQ,SAAUC,QAAV,CAAoB,CAC1B;AACAR,OAAO,CAACQ,QAAQ,CAACC,IAAV,CAAP,CACAC,OAAO,CAACC,GAAR,CAAYZ,IAAZ,CAAkB,OAAlB,EACA;AACAG,YAAY,CAAC,KAAD,CAAZ,CACD,CAVD,EAWD,CAdQ,CAcN,EAdM,CAAT,CAeA,GAAMU,CAAAA,OAAO,CAAG,CACd,CACEC,IAAI,CAAE,IADR,CAEEC,QAAQ,CAAE,kBAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,EAAb,EAFZ,CADc,CAKd,CACEH,IAAI,CAAE,MADR,CAEEC,QAAQ,CAAE,kBAACC,GAAD,QAASA,CAAAA,GAAG,CAACF,IAAb,EAFZ,CALc,CASd,CACEA,IAAI,CAAE,OADR,CAEEC,QAAQ,CAAE,kBAACC,GAAD,QAASA,CAAAA,GAAG,CAACE,KAAb,EAFZ,CATc,CAad,CACEJ,IAAI,CAAE,SADR,CAEEK,IAAI,CAAE,cAACH,GAAD,CAAS,CACb,mBACE,eACE,SAAS,CAAC,KADZ,CAEE,OAAO,CAAE,kBAAM,CACbZ,OAAO,CAACgB,IAAR,kBAAuBJ,GAAG,CAACC,EAA3B,GACD,CAJH,kBADF,CAUD,CAbH,CAbc,CAAhB,CA6BA,mBACE,sCACE,YAAK,SAAS,CAAC,cAAf,uBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,WAAI,SAAS,CAAC,WAAd,mBADF,CAEGf,SAAS,GAAK,IAAd,cACC,UAAG,SAAS,CAAC,kBAAb,qBADD,cAGC,KAAC,SAAD,EAAW,OAAO,CAAEW,OAApB,CAA6B,IAAI,CAAEb,IAAnC,EALJ,GADF,EADF,EADF,CAcD,CA9DM","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport DataTable from \"react-data-table-component\";\n\nexport const Users = () => {\n  const [user, setUser] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n  useEffect(() => {\n    setIsLoading(true);\n    // GET request for remote image in node.js\n    axios({\n      method: \"get\",\n      url: \"https://jsonplaceholder.typicode.com/users\",\n      responseType: \"stream\",\n    }).then(function (response) {\n      // console.log(response);\n      setUser(response.data);\n      console.log(user, \"users\");\n      // response.data.pipe(fs.createWriteStream(\"ada_lovelace.jpg\"));\n      setIsLoading(false)\n    });\n  }, []);\n  const columns = [\n    {\n      name: \"Id\",\n      selector: (row) => row.id,\n    },\n    {\n      name: \"Name\",\n      selector: (row) => row.name,\n    },\n    {\n      name: \"Email\",\n      selector: (row) => row.email,\n    },\n    {\n      name: \"Actions\",\n      cell: (row) => {\n        return (\n          <button\n            className=\"btn\"\n            onClick={() => {\n              history.push(`/users/${row.id}`);\n            }}\n          >\n            view\n          </button>\n        );\n      },\n    },\n  ];\n  return (\n    <>\n      <div className=\"page-content\">\n        <div className=\"container py-5\">\n          <h2 className=\"user-list\">Users</h2>\n          {isLoading === true ? (\n            <p className=\"text-center my-5\">Loading</p>\n          ) : (\n            <DataTable columns={columns} data={user} />\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}